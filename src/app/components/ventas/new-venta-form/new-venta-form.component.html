<div class="general-view">
  <div class="contedor-principal-card card--elevated">
    <div class="head-section">
        <h3 class="list-title">Nueva Venta</h3>
        <button class="special_button"(click)="habilitarMenuProductos()">Agregar Producto</button>
    </div>
    <div class="product-detalle-fila">
      <div class="new-venta-main-options-row">
        <span>Cliente</span>
        <select class="clasic_input">
          <option *ngFor="let client of clients" [value]="client">
            {{client.codigo}} - {{ client.nombre }}</option>
        </select>
      </div>
      <div class="new-venta-main-options-row">
        <span>Vendedor</span>
        <select class="clasic_input">
          <option *ngFor="let vendor of vendedores" [value]="vendor.id">
            {{ vendor.nombre }} {{ vendor.apellido }}</option>
        </select>
      </div>
  
     
  
  
      <div class="new-venta-main-options-row">
        <span>
          Fecha de Venta
        </span>
          <mat-form-field >
            <input class="clasic_input" matInput [matDatepicker]="picker" placeholder="MM/DD/YYYY" (dateChange)="onDateChange($event)">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
      </div>
      
      
    </div>
    <div class="product-detalle-fila-tabla generic-head-item">
      <div class="seccion-derecha">
        <span class="col-codigo">Codigo</span>
        <span class="col-descripcion">Descipcion</span>
      </div>
      <div class="seccion-izquierda">
        <span class="col-monto-parcial">Monto Parcial</span>
        <span class="col-cantidad head-col-cantidad">Cantidad</span>
      </div>
        
        
    </div>
    <div *ngFor="let product of products" class="product-detalle-fila-tabla">
      <div class="seccion-derecha">
        <span class="col-codigo">{{ product.id }}</span>
        <span class="col-descripcion">{{ product.description  }}</span>
        
      </div>
      
      <div class="generic-price">$ {{ product.price }}</div>
      <input class="generic-cant" type="number" [(ngModel)]="product.cantidad">
      <ion-icon class="delete-button trash-item" name="trash-outline"></ion-icon>
      
    </div>
  
    <div class="product-detalle-fila-tabla">
      
      <div class="generic-price">$ </div>
      <span class="col-descripcion">Total </span>
    </div>
    <div class="head-section">
      <h3 class="list-title">Financiacion</h3>
      
      <div class="new-venta-main-options-row">
        <span>Cantidad de Cuotas</span>
        <select (change)="onCuotasChange($event)">
          <option *ngFor="let numero of opcionCuotas" [value]="numero">
            {{ numero }}</option>
        </select>
      <button class="special_button"(click)="generarCuotas()">Generar Cuotas</button>
      </div>
    </div>
  
    <div class="cuotas-section" >
    <div class="cuota-container" *ngFor="let cuota of cuotas">
      <div class="cuota-info">
        <span class="cuota-name">
          Cuota {{cuota.id}}
        </span>
        <span class="cuota-price">
          $ {{cuota?.monto?.toFixed(2)}}
        </span>
      </div>
      <span>
        Fecha de Vencimiento
      </span>
      <mat-form-field >
          <input matInput [matDatepicker]="picker" [(ngModel)]="cuota.fechaPago" placeholder="DD/MM/YYYY" (dateChange)="onDateChangeCuota($event, cuota)">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
      
    </div>
  
    <div class="button-end-section">
      
      <button class="important_button"(click)="finalizarVenta()">Finalizar Venta</button>
      
    </div>
  
  
  
  </div>

  
<div class="second-view">
  <div class="contedor-principal-card  card--elevated" *ngIf="menuProductos">
    <div class="product-detalle-column">
      <span>Filtro</span>
      <input class="clasic_input max-width" type="text" [(ngModel)]="filtroProducto" (input)="filtroProductoChange()">
    </div>
  <div *ngFor="let product of productsFiltrados" (click)="agregarProducto(product)" >
    <div class="item-generic" [ngClass]="{'item-generic-selected': product.seleccionado}">
        <div class="product-description">{{ product.codigo }} - {{ product.descripcion }}</div>
    </div>    
  </div>
  </div>
</div>

</div>





